language: cpp

cache:
  directories:
    - cache

env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
   - secure: "Ncn6/msd5oa9PiMYS5y3bpqbcqnB9Wwr7UIEtDS6fd1X01sk7aWF267kMNq8ijosJtk1P4vjKmZomfhTyQgILV6UkNkSDae5NOc39XM9yoysxc6LHTnF8/E5wXgbV1oDJR9kenrBzX49ZRJxwYa9WgXsGz4AiDyUB9eMy48eomnyNXG/SkZBbPmxaI0zSCACWH0VMHwvxHOHnaXHMOuQDVN+oxP4gEdQ/Cz2P0QJl1TvE5hpYB9fW/yItcdgL7sVkiFXbkZh5l3s52fGEN339e9CEEEEqnEUmFAzq0nsZNKZqh+ivh4Ga2qJa+btLGkEYyNQyKpOjy21Wx8UKY6uT5ZVxdSK943dbn0+v2nr0K++Hu2mRoq3btMfza5PZGQrK/XdOgathqxMoqSlKKXNo5qQoHfyjRLUscaZPsF/kWfnUoRGA90Eg6RLq59gsKkQjSJ0cWJ6Czt2txJZvmAZn51thBMJ3QW88+taDXkSVXsXkrdPjGPrwUt+okhvXJK5+PeSa+Fb4CJUiijOAg9Sew+WDJdsP9d0gVtEncXiVdAgdUFZ9wbyKCrjPisKxZWzzMDr+7tT3MQmg8FagPMkm5PW9Q+Ewof2VLjxffX+PhHcWvUrVqe8KBEVuJNs4SYG0ETsvp0+y8tyh5o+zAmc8fKsuYmEDNJ727rjrTfA56A="

jobs:
  include:
    - stage: warmcache
      name: "Warm Cache"
      script: echo Warm the cache here

    - stage: build
      name: "Build"
      os: linux
      dist: trusty
      sudo: required
      compiler: clang
      env:
        - COMPILER_CC=clang
        - COMPILER_CXX=clang++
        - CMAKE_GENERATOR='Unix Makefiles'
      before_install: echo Before install
      before_script: echo Before script
      script: echo buildA os=$TRAVIS_OS_NAM compiler=$COMPILER_CXX generator=$CMAKE_GENERATOR
    - stage: build
      os: linux
      dist: trusty
      sudo: required
      compiler: clang
      env:
        - COMPILER_CC=clang
        - COMPILER_CXX=clang++
        - CMAKE_GENERATOR=Ninja
      before_install: echo Before install
      before_script: echo Before script
      script: echo buildB os=$TRAVIS_OS_NAM compiler=$COMPILER_CXX generator=$CMAKE_GENERATOR
    - stage: build
      os: linux
      dist: trusty
      sudo: required
      compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-5
      env:
        - COMPILER_CC=gcc-5
        - COMPILER_CXX=g++-5
        - CMAKE_GENERATOR='Unix Makefiles'
      before_install: echo Before install
      before_script: echo Before script
      script: echo buildC os=$TRAVIS_OS_NAM compiler=$COMPILER_CXX generator=$CMAKE_GENERATOR
    - stage: build
      os: windows
      before_install: echo Before install
      before_script: echo Before script
      script: echo This is the windows build

    - stage: docs
      name: "Documentation"
      script: echo Generate documentation here
